--alter session set current_schema=expadmin;
--1
INSERT INTO TBEXP_EXP_SUB 
SELECT  
'20180331-D000-0000-0000-S006B1000100'||LTRIM(TO_CHAR(ROWNUM,'000')) AS ID,
E.ID AS TBEXP_ENTRY_ID,
BUD.CODE AS BUDGET_CODE,
PROP.CODE AS DEP_PROP_CODE,
DT.CODE AS DEP_TYPE_CODE,
DEL.CODE AS DEP_LEVEL_PROP_CODE,
SMTP.CODE AS STAMP_TAX_CODE,
0 AS STAMP_AMT,
VAT.CODE AS INCOME_CODE,
0 AS INCOME_AMT,
WIT.CODE AS TAX_CODE,
0 AS TAX_AMT,
'' AS INCOME_ID,
0 PAY_AMT,
'' AS INVOICE_COMP_ID,
'' AS INVOICE_COMP_NAME,
'' AS PAY_ID,
'' AS PAY_COMP_NAME,
'' AS INVOICE_NO,
'' AS PAPERS_NO,
'20181#2300001' AS PROJECT_NO,
'' AS CAR_NO,
'' AS REPAIR_CODE,
'' AS INSUR_AGENT_CODE,
'' AS ROUTE_TYPE,
'' AS CONTRACT_NO,
'' AS BUILDING_CODE,
'' AS BUILDING_NAME,
'' AS ENTERTAIN_DATE,
0 AS AMOUNT,
'' AS ADD_EXP_APPL_NO,
'' AS ROSTER_NO,
'' AS WARRANTY_YEAR,
'' AS WARRANTY_START_DATE,
'' AS WARRANTY_END_DATE,
'' AS TRAINING_TYPE,
'' AS TRAINING_COMPANY_COMP_ID,
'' AS TRAINING_COMPANY_NAME,
'' AS SUBJECT,
'' AS THIS_PERIOD_DEGREE,
'' AS LAST_PERIOD_DEGREE,
'' AS SYSTEM_TYPE,
0 AS RELATION_FLAG,
'' AS RELATION_CODE,
1 AS VERSION_NO
FROM TBEXP_EXPAPPL_D D 
INNER JOIN TBEXP_ENTRY E ON E.TBEXP_ENTRY_GROUP_ID=D.TBEXP_ENTRY_GROUP_ID
INNER JOIN TBEXP_APPL_STATE ST ON ST.ID=D.TBEXP_APPL_STATE_ID
INNER JOIN TBEXP_DEPARTMENT DEP ON DEP.CODE=E.COST_UNIT_CODE
INNER JOIN TBEXP_DEP_PROP PROP ON PROP.ID=DEP.TBEXP_DEP_PROP_ID
INNER JOIN TBEXP_DEP_TYPE DT ON DT.ID=DEP.TBEXP_DEP_TYPE_ID
INNER JOIN TBEXP_DEP_LEVEL_PROP DEL ON DEL.ID=DEP.TBEXP_DEP_LEVEL_PROP_ID
INNER JOIN TBEXP_ACC_TITLE ACC ON ACC.ID=E.TBEXP_ACC_TITLE_ID
LEFT JOIN TBEXP_ACC_TITLE SMTP ON SMTP.ID=ACC.TBEXP_STAMP_TAX_CODE_ID
LEFT JOIN TBEXP_ACC_TITLE VAT ON VAT.ID=ACC.TBEXP_VAT_CODE_ID
LEFT JOIN TBEXP_ACC_TITLE WIT ON WIT.ID=ACC.TBEXP_WITHHOLD_CODE_ID
INNER JOIN TBEXP_BUDGET_ITEM BUD ON ACC.TBEXP_BUG_ITEM_ID=BUD.ID
WHERE ST.CODE='90' AND
D.EXP_APPL_NO IN ('T35201802270005') AND 
ACC.CODE IN '63200423' AND 
E.COST_UNIT_CODE='1#2300';

--22

--115000
update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='2018115000025'
where SUBPOENA_NO='J807131004' and COST_UNIT_CODE='115000' and acct_code='64100413';

update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='2018115000025'
where SUBPOENA_NO='J807131001' and COST_UNIT_CODE='115000' and acct_code='65110523';

update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='2018115000025'
where SUBPOENA_NO='J807131002' and COST_UNIT_CODE='115000' and acct_code='65200423';

update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='2018115000025'
where SUBPOENA_NO='J807228005' and COST_UNIT_CODE='115000' and acct_code='64100413';

update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='2018115000025'
where SUBPOENA_NO='J807228003' and COST_UNIT_CODE='115000' and acct_code='65110523';

update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='2018115000025'
where SUBPOENA_NO='J807228002' and COST_UNIT_CODE='115000' and acct_code='65200423';

update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='2018115000025'
where SUBPOENA_NO='J807331006' and COST_UNIT_CODE='115000' and acct_code='64100413';

update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='2018115000025'
where SUBPOENA_NO='J807331003' and COST_UNIT_CODE='115000' and acct_code='65110523';

update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='2018115000025'
where SUBPOENA_NO='J807331004' and COST_UNIT_CODE='115000' and acct_code='65200423';

--140000
update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='2018140000017'
where SUBPOENA_NO='J017331001' and COST_UNIT_CODE='140000' and acct_code='61130123' and amt='723400';

update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='2018140000001'
where SUBPOENA_NO='J017331001' and COST_UNIT_CODE='140000' and acct_code='61130123' and amt='481360';

--114000
update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='2018114000004'
where SUBPOENA_NO='J017331001' and COST_UNIT_CODE='114000' and acct_code='61130123' and amt='253450';

--11R000
update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='201811R000022'
where SUBPOENA_NO='J017331001' and COST_UNIT_CODE='11R000' and acct_code='61130123' and amt='214235';

--12A000
update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='201812A300007'
where SUBPOENA_NO='J017331001' and COST_UNIT_CODE='12A000' and acct_code='61130123' and amt='200770';


--11P000
update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='201811P300006'
where SUBPOENA_NO='J017331001' and COST_UNIT_CODE='11P000' and acct_code='61130123'  and amt='98370';

update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='201811P200011'
where SUBPOENA_NO='J017331001' and COST_UNIT_CODE='11P000' and acct_code='61130123' and amt='95420';
--12A000
update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='201812A300010'
where SUBPOENA_NO='J017331001' and COST_UNIT_CODE='12A000' and acct_code='61130123' and amt='24900';

update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='201811A300009'
where SUBPOENA_NO='J017331001' and COST_UNIT_CODE='12A000' and acct_code='61130123' and amt='15250';

--11P000
update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='201811P300004'
where SUBPOENA_NO='J017331001' and COST_UNIT_CODE='11P000' and acct_code='61130123' and amt='9200';

--109000
update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='2018109100020'
where SUBPOENA_NO='J017331001' and COST_UNIT_CODE='109000' and acct_code='61130123' and amt='5905';

update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='2018109100017'
where SUBPOENA_NO='J017331001' and COST_UNIT_CODE='109000' and acct_code='61130123' and amt='1200';

update TBEXP_EXT_SYS_ENTRY set PROJECT_NO='2018109700009'
where SUBPOENA_NO='J017331001' and COST_UNIT_CODE='109000' and acct_code='61130123' and amt='400';

